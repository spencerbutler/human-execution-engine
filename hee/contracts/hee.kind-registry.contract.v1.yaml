apiVersion: hee/v1
kind: Contract
metadata:
  name: hee-kind-registry
  description: "Authoritative registry of HEE object kinds. Kind is tiny + stable. Case follows Kubernetes canon."
  labels:
    domain: hee
    scope: governance
    topic: kind-registry
    artifact: contract
  annotations:
    inuid: "698e3412-47e8-832f-ad2d-25fb3c63f0af"
    updated-at: "2026-02-12T20:14:57-06:00"

spec:
  invariants:
    - "Kind is tiny and stable."
    - "Registry is authoritative."
    - "Observed kinds do not automatically become active kinds."
    - "Kind case follows Kubernetes canon (PascalCase singular)."
    - "metadata.annotations.inuid is required for all HEE-object YAML."
    - "inuid may be null ONLY with a very good reason (bootstrap/test); reason must be recorded."

  active_kinds:
    - "Card"
    - "Pill"
    - "Delta"
    - "Contract"
    - "Blueprint"
    - "Plan"

  non_kinds_plan_sub_structs:
    - "WU"
    - "Step"
    - "StepUnordered"

  inuid_rules:
    required: true
    allow_null: true
    null_requires_reason: true
    allowed_null_reasons:
      - "bootstrap"
      - "test"
      - "fixture"

  observed_kinds_from_scan:
    - "completion_marker"
    - "Contract"
    - "GreenCard"
    - "observation_marker"
    - "Pill"
    - "Registry"
    - "release_baseline"
    - "state_capsule"
    - "state_capsule_addendum"

  next_dif_questions:
    - "Do we lint non-canonical kind case as WARN first, then ERROR later?"
    - "Should schema enforce inuid null-reason contract (oneOf) in strict mode?"
