apiVersion: hee/v1
kind: Contract
metadata:
  name: pr-handoff-v1
  description: YAML-first contract for PR handling + handoffs + evidence capture
  labels:
    area: governance
    domain: pr-handoff
spec:
  authority:
    anchor:
      kind: soa
      path: "$HOME/.hee"
    chain: [soa, gcic, dric, shell]
  rules:
    yaml_first:
      must: true
    non_yaml_first_gate:
      must: true
    ci_green_gate:
      must: true
    evidence_capture:
      must: true
  decisions:
    evidence_pointer_exts_allowed: [md, json]
  artifacts:
    contract_yaml: { path: pills/contracts/pr-handoff.v1.yaml }
    handoff_yaml:
      required: true
      pattern: pills/handoff/handoff.pr<PRNUM>.v1.yaml
      required_fields: [pr_number, branch, head_sha, base, ci_status, evidence_outdir]
